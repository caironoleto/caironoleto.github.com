---
layout: post
title: Instalando Apache CouchDB no Linux
---

<p>Para instalar o <a title="Apache CouchDB" href="http://couchdb.apache.org/" target="_blank">Apache CouchDB</a> no Ubuntu/Debian-likes use

</p><blockquote><em>sudo apt-get install couchdb</em></blockquote>

Mas a versão que ele instala (pelo menos no Ubuntu 8.10) é uma versão um pouco mais antiga, então resolvi instalar via source

<blockquote><em>wget <a href="http://linorg.usp.br/apache/couchdb/0.9.0/apache-couchdb-0.9.0.tar.gz" target="_blank">http://linorg.usp.br/apache/couchdb/0.9.0/apache-couchdb-0.9.0.tar.gz</a></em>



<em>tar zxvf apache-couchdb-0.9.0.tar.gz</em>



<em>cd apache-couchdb-0.9.0

</em></blockquote>

Antes de instalar, você deve instalar as dependências

<blockquote><em>sudo apt-get install build-essential erlang libicu38 libicu-dev libmozjs-dev libcurl4-openssl-dev</em></blockquote>

Após isso a coisa fica fácil :)

<blockquote><em>./configure</em>



<em>make</em>



<em>sudo make install</em></blockquote>

Ainda não está finalizado, você deve adicionar um usuário para iniciar o couchdb

<blockquote><em>sudo adduser &#8212;system &#8212;home /usr/local/var/lib/couchdb &#8212;no-create-home &#8212;shell /bin/bash &#8212;group &#8212;gecos &#8220;CouchDB Administrator&#8221; couchdb</em></blockquote>

Você deve dar permissões a algumas pastas

<blockquote><em>sudo chown -R couchdb /usr/local/etc/couchdb</em>



<em>sudo chown -R couchdb /usr/local/var/lib/couchdb</em>



<em>sudo chown -R couchdb /usr/local/var/log/couchdb</em>



<em>sudo chown -R couchdb /usr/local/var/run/

</em></blockquote>

Pronto, agora está instalado, você pode inicializar o Apache CouchDB com

<blockquote><em>sudo -i -u couchdb couchdb -b</em></blockquote>

&#8220;Apache CouchDB has started, time to relax&#8221; ;) assim você inicia o CouchDB manualmente, se você quiser deixar ele iniciando automaticamente, você pode fazer

<blockquote><em>sudo ln -s /usr/local/etc/init.d/couchdb /etc/init.d/</em>



<em>sudo update-rc.d couchdb defaults</em></blockquote>

Agora você pode digitar <em>sudo /etc/init.d/couchdb {start|stop|restart|force-reload|status}</em> e facilmente você inicializará ou finalizará o Apache CouchDB, para você ver seu Apache CouchDB funcionando, <a title="Apache CouchDB" href="http://127.0.0.1:5984/_utils/index.html" target="_blank">clique aqui</a>.
